# tester.py

## Setup

This test will utilize the `stf.so` C module that is generated by the Makefile in `lib/linux-python`. You can install this module if you wish, or you can simply copy it to the same directory as `tester.py` and the module should be discoverable. You should also create and run the Docker server, which can be done from the top level of the repo using the following commands:

```
docker build -t stfgo -f Dockerfile.server .
docker run -p 127.0.0.1:52808:8080 stfgo
```

## Usage

This is an informal test file that interacts with the Docker server and a USB-connected Microchip Trust Platform board. To use it, simply provde the IP address and port of the Docker server as follows.

```
./tester.py 127.0.0.1:52808
```

Note, the port and address may be different from above depending on how you bound the container. Additionally, you may have to run the script as `root` due to the script requiring access to `USBTTY`.

## Trust Platform Board

The easiest way to ensure you have the correct setup on your board is to run the `TrustFLEX/00_resource_generation` Jupyter notebook that is included in the Trust Platform Suite. This will provision the onboard ATECC608 chip (or offboard, depending on the switch positions), and leave the necessary key slots open for writing.
